<p>items-collection works!</p>
<div class="collection-container">
  <h2>Mi Colección de Películas</h2>

  @if (loading()) {
    <div class="loading-spinner">
      <p>Cargando colección...</p>
    </div>
  } @else if (error()) {
    <div class="error-message">
      <p>{{ error() }}</p>
    </div>
  } @else {
    <div class="collection-info">
      <p>Total de películas: <strong>{{ totalElements() }}</strong></p>
    </div>

    @if (items().length > 0) {
      <div class="items-grid">
        @for (item of items(); track item.id) {
          <div class="item-card">
            <div class="item-cover">
              <img 
                [src]="item.editionCoverPicture" 
                [alt]="item.filmName"
                class="cover-image">
            </div>
            <div class="item-details">
              <h3>{{ item.filmName }}</h3>
              <div class="item-meta">
                <p><strong>Año:</strong> {{ item.editionReleaseYear }}</p>
                <p><strong>País:</strong> {{ item.editionCountry }}</p>
                <p><strong>Formato:</strong> {{ item.editionFormat }}</p>
                <p><strong>Packaging:</strong> {{ item.editionPackaging }}</p>
              </div>
              <div class="item-conditions">
                <p><strong>Caja:</strong> {{ item.itemCaseCondition }}</p>
                <p><strong>Disco:</strong> {{ item.itemMediaCondition }}</p>
              </div>
              @if (item.itemComments) {
                <div class="item-comments">
                  <p><strong>Notas:</strong> {{ item.itemComments }}</p>
                </div>
              }
              <p class="item-date">Añadido: {{ item.itemAddedDate | date: 'dd/MM/yyyy' }}</p>
            </div>
          </div>
        }
      </div>

      @if (totalPages() > 1) {
        <div class="pagination">
          <button 
            class="pagination-btn"
            (click)="previousPage()" 
            [disabled]="!hasPrevious()">
            ← Anterior
          </button>
          
          <div class="pagination-info">
            <span>Página {{ currentPage() + 1 }} de {{ totalPages() }}</span>
            <span class="pagination-divider">|</span>
            <span>{{ totalElements() }} películas</span>
          </div>
          
          <button 
            class="pagination-btn"
            (click)="nextPage()" 
            [disabled]="!hasNext()">
            Siguiente →
          </button>
        </div>
      }
    } @else {
      <div class="empty-state">
        <p>No tienes películas en tu colección aún.</p>
      </div>
    }
  }
</div>