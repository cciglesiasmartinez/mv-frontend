<p>items-collection works!</p>
<div class="collection-container">
  <h2>Mi Colección de Películas</h2>

  @if (loading()) {
    <div class="loading-spinner">
      <p>Cargando colección...</p>
    </div>
  } @else if (error()) {
    <div class="error-message">
      <p>{{ error() }}</p>
    </div>
  } @else {
    <div class="collection-info">
      <p>Total de películas: <strong>{{ totalElements() }}</strong></p>
    </div>

    @if (elements().length > 0) {
      <div class="items-grid">
        @for (element of elements(); track element.id) {
          <div class="item-card">
            <div class="item-cover">
              <p>LA IMAGEN</p>
              <img 
                [src]="element.edition_cover_picture" 
                [alt]="element.film_name"
                class="cover-image">
            </div>
            <div class="item-details">
              <h3>Pelicula (titulo){{ element.film_name }}</h3>
              <div class="item-meta">
                <p><strong>Año:</strong> {{ element.edition_release_year }}</p>
                <p><strong>País:</strong> {{ element.edition_country }}</p>
                <p><strong>Formato:</strong> {{ element.edition_format }}</p>
                <p><strong>Packaging:</strong> {{ element.edition_packaging }}</p>
              </div>
              <div class="item-conditions">
                <p><strong>Caja:</strong> {{ element.item_case_condition }}</p>
                <p><strong>Disco:</strong> {{ element.item_media_condition }}</p>
              </div>
              @if (element.item_comments) {
                <div class="item-comments">
                  <p><strong>Notas:</strong> {{ element.item_comments }}</p>
                </div>
              }
              <p class="item-date">Añadido: {{ element.item_added_date | date: 'dd/MM/yyyy' }}</p>
            </div>
          </div>
        }
      </div>

      @if (totalPages() > 1) {
        <div class="pagination">
          <button 
            class="pagination-btn"
            (click)="previousPage()" 
            [disabled]="!hasPrevious()">
            ← Anterior
          </button>
          
          <div class="pagination-info">
            <span>Página {{ currentPage() + 1 }} de {{ totalPages() }}</span>
            <span class="pagination-divider">|</span>
            <span>{{ totalElements() }} películas</span>
          </div>
          
          <button 
            class="pagination-btn"
            (click)="nextPage()" 
            [disabled]="!hasNext()">
            Siguiente →
          </button>
        </div>
      }
    } @else {
      <div class="empty-state">
        <p>No tienes películas en tu colección aún.</p>
      </div>
    }
  }
</div>